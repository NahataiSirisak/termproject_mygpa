{"ast":null,"code":"var _jsxFileName = \"/Users/naan/Documents/termproject_MyGPA/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useRef, useEffect } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport QuotationTable from \"./QuotationTable\";\nimport { Container, Row, Col, Form, Button } from \"react-bootstrap\";\nimport useLocalStorage from \"react-localstorage-hook\";\nimport dataCS from \"./cs-2019.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const subjectRef = useRef();\n  const ppuRef = useRef();\n  const qtyRef = useRef();\n  const gradeRef = useRef();\n  const [dataItems, setDataItems] = useLocalStorage(\"dataItems\", []);\n  const dummyProductList = [{\n    id: \"p001\",\n    name: \"Apple\",\n    price: 10\n  }, {\n    id: \"p002\",\n    name: \"Banana\",\n    price: 15\n  }, {\n    id: \"p003\",\n    name: \"Guava\",\n    price: 20\n  }, {\n    id: \"p004\",\n    name: \"Orange\",\n    price: 30\n  }, {\n    id: \"p005\",\n    name: \"Strawberry\",\n    price: 50\n  }];\n  const gradeList = [{\n    id: \"01\",\n    grade: \"A\",\n    num: 4.00\n  }, {\n    id: \"02\",\n    grade: \"A-\",\n    num: 3.75\n  }, {\n    id: \"03\",\n    grade: \"B+\",\n    num: 3.25\n  }, {\n    id: \"04\",\n    grade: \"B\",\n    num: 3.00\n  }, {\n    id: \"05\",\n    grade: \"B-\",\n    num: 2.75\n  }, {\n    id: \"06\",\n    grade: \"C+\",\n    num: 2.25\n  }, {\n    id: \"07\",\n    grade: \"C\",\n    num: 2.00\n  }, {\n    id: \"08\",\n    grade: \"C-\",\n    num: 1.75\n  }, {\n    id: \"09\",\n    grade: \"D\",\n    num: 1.00\n  }, {\n    id: \"10\",\n    grade: \"F\",\n    num: 0\n  }, {\n    id: \"11\",\n    grade: \"W,I,S,U,R,TR \",\n    num: nil\n  }];\n\n  const addItem = () => {\n    if (itemRef.current.value == \"\" || ppuRef.current.value == \"\" || qtyRef.current.value == \"\" || disRef.current.value == \"\") {\n      alert(\"Required Input is empty\");\n      return;\n    }\n\n    const pid = itemRef.current.value;\n    const product = dummyProductList.find(e => e.id === pid);\n    var itemObj = {\n      pid: pid,\n      item: product.grade,\n      ppu: ppuRef.current.value,\n      qty: qtyRef.current.value,\n      dis: disRef.current.value\n    };\n\n    if (parseInt(disRef.current.value, 10) > parseInt(ppuRef.current.value, 10) * parseInt(qtyRef.current.value, 10)) {\n      alert(\"The discount is more than the total price, please re-enter \");\n      return;\n    } else {\n      const found = dataItems.some(e => e.pid === itemObj.pid);\n\n      if (!found) {\n        dataItems.push(itemObj);\n        setDataItems([...dataItems]);\n      } else {\n        var index = dataItems.findIndex(obj => obj.pid == itemObj.pid);\n        dataItems[index].qty = parseInt(dataItems[index].qty, 10) + parseInt(qtyRef.current.value, 10);\n        dataItems[index].dis = parseInt(dataItems[index].dis, 10) + parseInt(disRef.current.value, 10);\n        setDataItems([...dataItems]);\n      }\n    }\n  };\n\n  const productChange = e => {\n    //ทำ code ให้ตรงกับ name\n    const pid = itemRef.current.value;\n    const product = dummyProductList.find(e => e.id === pid);\n    ppuRef.current.value = product.price;\n  };\n\n  const gradOptions = gradeList.map(v => {\n    return /*#__PURE__*/_jsxDEV(\"option\", {\n      value: v.id,\n      children: v.grade\n    }, v.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 12\n    }, this);\n  }); //const dataCS = require(\"./cs-2019.json\");\n\n  const optionCS = dataCS.curriculum.subjects.map(item => {\n    return /*#__PURE__*/_jsxDEV(\"option\", {\n      children: item.groupgrade\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 12\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        xs: 5,\n        style: {\n          backgroundColor: \"#eaeaea\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            classgrade: \"mb-3\",\n            controlId: \"formItem\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Subject\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n              \"aria-label\": \"Default select example\",\n              ref: subjectRef,\n              onChange: productChange,\n              children: optionCS\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            classgrade: \"mb-3\",\n            controlId: \"formPrice\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"number\",\n              placeholder: \"Price Per Unit\",\n              ref: ppuRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            classgrade: \"mb-3\",\n            controlId: \"formQauntity\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Quantity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"number\",\n              placeholder: \"Quantity\",\n              ref: qtyRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            classgrade: \"mb-3\",\n            controlId: \"formDiscount\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Grade\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n              \"aria-label\": \"Default select example\",\n              ref: gradeRef,\n              onChange: productChange,\n              children: optionCS\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            classgrade: \"d-grid gap-2\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              size: \"lg\",\n              onClick: addItem,\n              children: \"Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(QuotationTable, {\n          data: dataItems,\n          setDataItems: setDataItems\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"l6AjhtPKCeQ+hZfKE1X0kUAPzj8=\", false, function () {\n  return [useLocalStorage];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/naan/Documents/termproject_MyGPA/src/App.js"],"names":["useState","useRef","useEffect","QuotationTable","Container","Row","Col","Form","Button","useLocalStorage","dataCS","App","subjectRef","ppuRef","qtyRef","gradeRef","dataItems","setDataItems","dummyProductList","id","name","price","gradeList","grade","num","nil","addItem","itemRef","current","value","disRef","alert","pid","product","find","e","itemObj","item","ppu","qty","dis","parseInt","found","some","push","index","findIndex","obj","productChange","gradOptions","map","v","optionCS","curriculum","subjects","groupgrade","backgroundColor"],"mappings":"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","sourcesContent":["import { useState, useRef, useEffect } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport QuotationTable from \"./QuotationTable\";\nimport { Container, Row, Col, Form, Button } from \"react-bootstrap\";\nimport useLocalStorage from \"react-localstorage-hook\";\nimport dataCS from \"./cs-2019.json\"\n\nfunction App() {\n  const subjectRef = useRef();\n  const ppuRef = useRef();\n  const qtyRef = useRef();\n  const gradeRef = useRef();\n\n  const [dataItems, setDataItems] = useLocalStorage(\"dataItems\", []);\n\n  const dummyProductList = [\n    { id: \"p001\", name: \"Apple\", price: 10 },\n    { id: \"p002\", name: \"Banana\", price: 15 },\n    { id: \"p003\", name: \"Guava\", price: 20 },\n    { id: \"p004\", name: \"Orange\", price: 30 },\n    { id: \"p005\", name: \"Strawberry\", price: 50 }\n  ];\n\n  const gradeList = [\n    { id: \"01\", grade: \"A\", num: 4.00 },\n    { id: \"02\", grade: \"A-\", num: 3.75 },\n    { id: \"03\", grade: \"B+\", num: 3.25 },\n    { id: \"04\", grade: \"B\", num: 3.00 },\n    { id: \"05\", grade: \"B-\", num: 2.75 },\n    { id: \"06\", grade: \"C+\", num: 2.25 },\n    { id: \"07\", grade: \"C\", num: 2.00 },\n    { id: \"08\", grade: \"C-\", num: 1.75 },\n    { id: \"09\", grade: \"D\", num: 1.00 },\n    { id: \"10\", grade: \"F\", num: 0 },\n    { id: \"11\", grade: \"W,I,S,U,R,TR \", num: nil }\n  ];\n\n\n\n  const addItem = () => {\n    if (itemRef.current.value == \"\" || ppuRef.current.value == \"\" || qtyRef.current.value == \"\" || disRef.current.value == \"\") {\n      alert(\"Required Input is empty\");\n      return;\n    }\n    const pid = itemRef.current.value\n    const product = dummyProductList.find(e => e.id === pid)\n\n    var itemObj = {\n      pid: pid,\n      item: product.grade,\n      ppu: ppuRef.current.value,\n      qty: qtyRef.current.value,\n      dis: disRef.current.value\n    };\n\n\n    if (parseInt(disRef.current.value, 10) > (parseInt(ppuRef.current.value, 10) * parseInt(qtyRef.current.value, 10))) {\n      alert(\"The discount is more than the total price, please re-enter \")\n      return;\n    } else {\n      const found = dataItems.some(e => e.pid === itemObj.pid);\n      if (!found) {\n        dataItems.push(itemObj);\n        setDataItems([...dataItems]);\n\n\n      } else {\n        var index = dataItems.findIndex((obj => obj.pid == itemObj.pid));\n        dataItems[index].qty = parseInt(dataItems[index].qty, 10) + parseInt(qtyRef.current.value, 10);\n        dataItems[index].dis = parseInt(dataItems[index].dis, 10) + parseInt(disRef.current.value, 10);\n        setDataItems([...dataItems]);\n\n      }\n\n    }\n  };\n\n  const productChange = (e) => {//ทำ code ให้ตรงกับ name\n    const pid = itemRef.current.value;\n    const product = dummyProductList.find((e) => e.id === pid);\n    ppuRef.current.value = product.price\n  }\n\n  const gradOptions = gradeList.map(v => {\n    return <option value={v.id} key={v.id}>{v.grade}</option>\n  })\n\n  //const dataCS = require(\"./cs-2019.json\");\n  const optionCS = dataCS.curriculum.subjects.map( (item) => {\n    return <option>{item.groupgrade}</option>\n  })\n\n\n  return (\n    <Container>\n      <Row>\n        <Col xs={5} style={{ backgroundColor: \"#eaeaea\" }}>\n          <Form>\n            <Form.Group classgrade=\"mb-3\" controlId=\"formItem\">\n              <Form.Label>Subject</Form.Label>\n              <Form.Select aria-label=\"Default select example\" ref={subjectRef} onChange={productChange}>\n                {/* {options} */}\n                {optionCS}\n              </Form.Select>\n            </Form.Group>\n\n            <Form.Group classgrade=\"mb-3\" controlId=\"formPrice\">\n              <Form.Label>Price</Form.Label>\n              <Form.Control type=\"number\" placeholder=\"Price Per Unit\" ref={ppuRef} />\n            </Form.Group>\n\n            <Form.Group classgrade=\"mb-3\" controlId=\"formQauntity\">\n              <Form.Label>Quantity</Form.Label>\n              <Form.Control type=\"number\" placeholder=\"Quantity\" ref={qtyRef} />\n            </Form.Group>\n\n            <Form.Group classgrade=\"mb-3\" controlId=\"formDiscount\">\n              <Form.Label>Grade</Form.Label>\n              <Form.Select aria-label=\"Default select example\" ref={gradeRef} onChange={productChange}>\n                \n                {optionCS}\n              </Form.Select>\n            </Form.Group>\n\n            {/* <Button variant=\"outline-dark\" size=\"lg\" onClick={addItem}> */}\n            <div classgrade=\"d-grid gap-2\">\n            <Button variant=\"primary\" size=\"lg\" onClick={addItem}>\n              Add\n            </Button>\n            </div>\n          </Form>\n\n        </Col>\n        <Col>\n          <QuotationTable data={dataItems} setDataItems={setDataItems} />\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}