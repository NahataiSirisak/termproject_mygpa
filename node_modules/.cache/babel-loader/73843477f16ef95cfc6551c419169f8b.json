{"ast":null,"code":"var _jsxFileName = \"/Users/naan/Documents/termproject_MyGPA/src/App.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useRef, useEffect } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport QuotationTable from \"./QuotationTable\";\nimport { Container, Row, Col, Form, Button } from \"react-bootstrap\";\nimport useLocalStorage from \"react-localstorage-hook\";\nimport dataCS from \"./cs-2019.json\";\nimport React from 'react';\nimport Select from 'react-select';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const itemRef = useRef();\n  const ppuRef = useRef();\n  const qtyRef = useRef();\n  const disRef = useRef();\n  const subjectNRef = useRef();\n  const gradeRef = useRef();\n  const semRef = useRef();\n  const codeRef = useRef(); // const [oneonenine, setoneonenine] = useState([])\n  // var twoonenine = []\n  // var onetwozero = []\n  // var twotwozero = []\n  // var onetwoone = []\n  // var twotwoone = []\n\n  const [dataItems, setDataItems] = useLocalStorage(\"dataItems\", []);\n  const dummyProductList = [{\n    id: \"p001\",\n    name: \"Apple\",\n    price: 10\n  }, {\n    id: \"p002\",\n    name: \"Banana\",\n    price: 15\n  }, {\n    id: \"p003\",\n    name: \"Guava\",\n    price: 20\n  }, {\n    id: \"p004\",\n    name: \"Orange\",\n    price: 30\n  }, {\n    id: \"p005\",\n    name: \"Strawberry\",\n    price: 50\n  }];\n  const gradeList = [{\n    id: \"01\",\n    grade: \"A\",\n    num: 4.00\n  }, {\n    id: \"02\",\n    grade: \"A-\",\n    num: 3.75\n  }, {\n    id: \"03\",\n    grade: \"B+\",\n    num: 3.25\n  }, {\n    id: \"04\",\n    grade: \"B\",\n    num: 3.00\n  }, {\n    id: \"05\",\n    grade: \"B-\",\n    num: 2.75\n  }, {\n    id: \"06\",\n    grade: \"C+\",\n    num: 2.25\n  }, {\n    id: \"07\",\n    grade: \"C\",\n    num: 2.00\n  }, {\n    id: \"08\",\n    grade: \"C-\",\n    num: 1.75\n  }, {\n    id: \"09\",\n    grade: \"D\",\n    num: 1.00\n  }, {\n    id: \"10\",\n    grade: \"F\",\n    num: 0\n  }, {\n    id: \"11\",\n    grade: \"W,I,S,U,R,TR \",\n    num: 0\n  }];\n  const semesters = [{\n    id: \"01\",\n    term: \"1/2019\"\n  }, {\n    id: \"02\",\n    term: \"2/2019\"\n  }, {\n    id: \"03\",\n    term: \"1/2020\"\n  }, {\n    id: \"04\",\n    term: \"2/2020\"\n  }, {\n    id: \"05\",\n    term: \"1/2021\"\n  }, {\n    id: \"06\",\n    term: \"2/2021\"\n  }];\n\n  const addItem = () => {\n    if (codeRef.current.value == \"\" || semRef.current.value == \"\" || gradeRef.current.value == \"\" || subjectNRef.current.value == \"\") {\n      alert(\"Required Input is empty\");\n      return;\n    } // const pid = itemRef.current.value\n    // const product = dummyProductList.find(e => e.id === pid)\n\n\n    const grd = gradeRef.current.value;\n    const grade = gradeList.find(e => e.id === grd);\n    const semes = semRef.current.value;\n    const sem = semesters.find(e => e.id === semes);\n    var itemObj = {\n      // pid: pid,\n      // item: product.name,\n      // ppu: ppuRef.current.value,\n      // qty: qtyRef.current.value,\n      // dis: disRef.current.value,\n      sem: sem.term,\n      code: codeRef.current.value,\n      subN: subjectNRef.current.value,\n      grd: grade.grade,\n      grdn: grade.num\n    }; // dataItems.push(itemObj);\n    // setDataItems([...dataItems]);\n\n    const found = dataItems.some(e => e.sem === itemObj.sem);\n\n    if (!found) {\n      // if (semRef.current.value === \"1/2019\") {\n      //   oneonenine.push(itemObj);\n      //   setoneonenine([...oneonenine]);\n      // }\n      dataItems.push([itemObj]); //dataItems.push(itemObj);\n\n      setDataItems([...dataItems]);\n    } else {\n      var index = dataItems.findIndex(obj => obj.sem == itemObj.sem);\n      dataItems[index].push(itemObj);\n      setDataItems([...dataItems]);\n    } // if (parseInt(disRef.current.value, 10) > (parseInt(ppuRef.current.value, 10) * parseInt(qtyRef.current.value, 10))) {\n    //   alert(\"The discount is more than the total price, please re-enter \")\n    //   return;\n    // } else {\n    // const found = dataItems.some(e => e.pid === itemObj.pid);\n    //   if (!found) {\n    //     dataItems.push(itemObj);\n    //     setDataItems([...dataItems]);\n    //   } else {\n    //     var index = dataItems.findIndex((obj => obj.pid == itemObj.pid));\n    //     dataItems[index].qty = parseInt(dataItems[index].qty, 10) + parseInt(qtyRef.current.value, 10);\n    //     dataItems[index].dis = parseInt(dataItems[index].dis, 10) + parseInt(disRef.current.value, 10);\n    //     setDataItems([...dataItems]);\n    //   }\n    // }\n\n  }; // const productChange = (e) => {\n  //   const pid = itemRef.current.value;\n  //   const product = dummyProductList.find((e) => e.id === pid);\n  //   ppuRef.current.value = product.price\n  // }\n\n\n  const subjectChange = e => {\n    //ทำ code ให้ตรงกับ name\n    const subcode = codeRef.current.value;\n    const subs = dataCS.curriculum.subjects.map(item => {\n      return item.subjects.findIndex(e => e.code === subcode); //return array 0,-1,-1,-1,-1,-1,-1,-1\n    }); //subjectNRef.current.value = subs[0]//0,-1,-1,-1,-1,-1,-1,-1\n\n    const subcodearr = item => item > -1;\n\n    const sub1arr = subs.findIndex(subcodearr);\n    const i = dataCS.curriculum.subjects[sub1arr].subjects;\n    const arrl = i.length;\n    const d = dataCS.curriculum.subjects[sub1arr].subjects[arrl].name;\n    subjectNRef.current.value = arrl;\n  }; //แก้\n\n\n  const gradeOptions = gradeList.map(v => {\n    return /*#__PURE__*/_jsxDEV(\"option\", {\n      value: v.id,\n      children: v.grade\n    }, v.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 12\n    }, this);\n  });\n  const semesOptions = semesters.map(v => {\n    return /*#__PURE__*/_jsxDEV(\"option\", {\n      value: v.id,\n      children: v.term\n    }, v.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 12\n    }, this);\n  });\n  const subjectOption = dataCS.curriculum.subjects.map(item => {\n    return /*#__PURE__*/_jsxDEV(\"option\", {\n      children: item.groupName\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 12\n    }, this);\n  }); //code in sub-subjects\n\n  const subjectOptionA = dataCS.curriculum.subjects.map(item => {\n    return item.subjects.map(e => {\n      return /*#__PURE__*/_jsxDEV(\"option\", {\n        children: e.code\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 14\n      }, this);\n    });\n  });\n  const subjectOptionB = dataCS.curriculum.subjects.map(item => {\n    return item.subjects.map(e => {\n      return /*#__PURE__*/_jsxDEV(\"option\", {\n        children: e.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 14\n      }, this);\n    });\n  });\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        xs: 5,\n        style: {\n          backgroundColor: \"#eaeaea\"\n        },\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            classgrade: \"mb-3\",\n            controlId: \"formsemester\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Semester\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n              \"aria-label\": \"Default select example\",\n              ref: semRef,\n              children: semesOptions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            classgrade: \"mb-3\",\n            controlId: \"formItem\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Subject code\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n              \"aria-label\": \"Default select example\",\n              ref: codeRef,\n              onChange: subjectChange,\n              children: subjectOptionA\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            classgrade: \"mb-3\",\n            controlId: \"formPrice\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Subject name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"string\",\n              placeholder: \"Subject Name\",\n              ref: subjectNRef\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            classgrade: \"mb-3\",\n            controlId: \"formDiscount\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Grade\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Select, {\n              \"aria-label\": \"Default select example\",\n              ref: gradeRef,\n              children: gradeOptions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            classgrade: \"d-grid gap-2\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              size: \"lg\",\n              onClick: addItem,\n              children: \"Add\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(QuotationTable, {\n          data: dataItems,\n          setDataItems: setDataItems\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"aPf2Uf9HZBKtxD0GrG+twDyFcVU=\", false, function () {\n  return [useLocalStorage];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/naan/Documents/termproject_MyGPA/src/App.js"],"names":["useState","useRef","useEffect","QuotationTable","Container","Row","Col","Form","Button","useLocalStorage","dataCS","React","Select","App","itemRef","ppuRef","qtyRef","disRef","subjectNRef","gradeRef","semRef","codeRef","dataItems","setDataItems","dummyProductList","id","name","price","gradeList","grade","num","semesters","term","addItem","current","value","alert","grd","find","e","semes","sem","itemObj","code","subN","grdn","found","some","push","index","findIndex","obj","subjectChange","subcode","subs","curriculum","subjects","map","item","subcodearr","sub1arr","i","arrl","length","d","gradeOptions","v","semesOptions","subjectOption","groupName","subjectOptionA","subjectOptionB","backgroundColor"],"mappings":"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","sourcesContent":["import { useState, useRef, useEffect } from \"react\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport QuotationTable from \"./QuotationTable\";\nimport { Container, Row, Col, Form, Button } from \"react-bootstrap\";\nimport useLocalStorage from \"react-localstorage-hook\";\nimport dataCS from \"./cs-2019.json\"\nimport React from 'react';\nimport Select from 'react-select';\n\n\nfunction App() {\n  const itemRef = useRef();\n  const ppuRef = useRef();\n  const qtyRef = useRef();\n  const disRef = useRef();\n\n  const subjectNRef = useRef();\n  const gradeRef = useRef();\n  const semRef = useRef();\n  const codeRef = useRef();\n\n  // const [oneonenine, setoneonenine] = useState([])\n  // var twoonenine = []\n  // var onetwozero = []\n  // var twotwozero = []\n  // var onetwoone = []\n  // var twotwoone = []\n\n  const [dataItems, setDataItems] = useLocalStorage(\"dataItems\", []);\n\n  const dummyProductList = [\n    { id: \"p001\", name: \"Apple\", price: 10 },\n    { id: \"p002\", name: \"Banana\", price: 15 },\n    { id: \"p003\", name: \"Guava\", price: 20 },\n    { id: \"p004\", name: \"Orange\", price: 30 },\n    { id: \"p005\", name: \"Strawberry\", price: 50 }\n  ];\n\n  const gradeList = [\n    { id: \"01\", grade: \"A\", num: 4.00 },\n    { id: \"02\", grade: \"A-\", num: 3.75 },\n    { id: \"03\", grade: \"B+\", num: 3.25 },\n    { id: \"04\", grade: \"B\", num: 3.00 },\n    { id: \"05\", grade: \"B-\", num: 2.75 },\n    { id: \"06\", grade: \"C+\", num: 2.25 },\n    { id: \"07\", grade: \"C\", num: 2.00 },\n    { id: \"08\", grade: \"C-\", num: 1.75 },\n    { id: \"09\", grade: \"D\", num: 1.00 },\n    { id: \"10\", grade: \"F\", num: 0 },\n    { id: \"11\", grade: \"W,I,S,U,R,TR \", num: 0 }\n  ];\n\n  const semesters = [\n    { id: \"01\", term: \"1/2019\" },\n    { id: \"02\", term: \"2/2019\" },\n    { id: \"03\", term: \"1/2020\" },\n    { id: \"04\", term: \"2/2020\" },\n    { id: \"05\", term: \"1/2021\" },\n    { id: \"06\", term: \"2/2021\" }\n  ]\n\n\n\n  const addItem = () => {\n    if (codeRef.current.value == \"\" || semRef.current.value == \"\" || gradeRef.current.value == \"\" || subjectNRef.current.value == \"\") {\n      alert(\"Required Input is empty\");\n      return;\n    }\n    // const pid = itemRef.current.value\n    // const product = dummyProductList.find(e => e.id === pid)\n    const grd = gradeRef.current.value\n    const grade = gradeList.find(e => e.id === grd)\n    const semes = semRef.current.value\n    const sem = semesters.find(e => e.id === semes)\n\n    var itemObj = {\n      // pid: pid,\n      // item: product.name,\n      // ppu: ppuRef.current.value,\n      // qty: qtyRef.current.value,\n      // dis: disRef.current.value,\n\n      sem: sem.term,\n      code: codeRef.current.value,\n      subN: subjectNRef.current.value,\n      grd: grade.grade,\n      grdn: grade.num\n\n    };\n\n    // dataItems.push(itemObj);\n    // setDataItems([...dataItems]);\n\n    const found = dataItems.some(e => e.sem === itemObj.sem)\n    if (!found) {\n      // if (semRef.current.value === \"1/2019\") {\n      //   oneonenine.push(itemObj);\n      //   setoneonenine([...oneonenine]);\n      // }\n      dataItems.push([itemObj]);\n      //dataItems.push(itemObj);\n      setDataItems([...dataItems]);\n    } else {\n      var index = dataItems.findIndex((obj => obj.sem == itemObj.sem));\n      dataItems[index].push(itemObj);\n      setDataItems([...dataItems]);\n    }\n\n\n    // if (parseInt(disRef.current.value, 10) > (parseInt(ppuRef.current.value, 10) * parseInt(qtyRef.current.value, 10))) {\n    //   alert(\"The discount is more than the total price, please re-enter \")\n    //   return;\n    // } else {\n    // const found = dataItems.some(e => e.pid === itemObj.pid);\n    //   if (!found) {\n    //     dataItems.push(itemObj);\n    //     setDataItems([...dataItems]);\n\n\n    //   } else {\n    //     var index = dataItems.findIndex((obj => obj.pid == itemObj.pid));\n    //     dataItems[index].qty = parseInt(dataItems[index].qty, 10) + parseInt(qtyRef.current.value, 10);\n    //     dataItems[index].dis = parseInt(dataItems[index].dis, 10) + parseInt(disRef.current.value, 10);\n    //     setDataItems([...dataItems]);\n\n    //   }\n\n    // }\n  };\n\n  // const productChange = (e) => {\n  //   const pid = itemRef.current.value;\n  //   const product = dummyProductList.find((e) => e.id === pid);\n  //   ppuRef.current.value = product.price\n  // }\n\n  const subjectChange = (e) => {//ทำ code ให้ตรงกับ name\n    const subcode = codeRef.current.value;\n    const subs = dataCS.curriculum.subjects.map((item) => {\n      return item.subjects.findIndex((e) => e.code === subcode) //return array 0,-1,-1,-1,-1,-1,-1,-1\n    });\n    //subjectNRef.current.value = subs[0]//0,-1,-1,-1,-1,-1,-1,-1\n\n    const subcodearr = (item) => item > -1;\n    const sub1arr = subs.findIndex(subcodearr)\n\n    const i = dataCS.curriculum.subjects[sub1arr].subjects\n    const arrl = i.length;\n\n    const d = dataCS.curriculum.subjects[sub1arr].subjects[arrl].name\n\n\n\n    subjectNRef.current.value = arrl\n\n\n  }//แก้\n\n  const gradeOptions = gradeList.map(v => {\n    return <option value={v.id} key={v.id}>{v.grade}</option>\n  })\n\n  const semesOptions = semesters.map(v => {\n    return <option value={v.id} key={v.id}>{v.term}</option>\n  })\n\n  const subjectOption = dataCS.curriculum.subjects.map((item) => {\n    return <option>{item.groupName}</option>\n  })\n\n  //code in sub-subjects\n  const subjectOptionA = dataCS.curriculum.subjects.map((item) => {\n    return item.subjects.map((e) => {\n      return <option>{e.code}</option>\n    })\n  })\n\n  const subjectOptionB = dataCS.curriculum.subjects.map((item) => {\n    return item.subjects.map((e) => {\n      return <option>{e.name}</option>\n    })\n  })\n\n\n  return (\n    <Container>\n      <Row>\n        <Col xs={5} style={{ backgroundColor: \"#eaeaea\" }}>\n          <Form>\n\n            <Form.Group classgrade=\"mb-3\" controlId=\"formsemester\">\n              <Form.Label>Semester</Form.Label>\n              <Form.Select aria-label=\"Default select example\" ref={semRef}  >\n                {semesOptions}\n              </Form.Select>\n            </Form.Group>\n\n            <Form.Group classgrade=\"mb-3\" controlId=\"formItem\">\n              <Form.Label>Subject code</Form.Label>\n              <Form.Select aria-label=\"Default select example\" ref={codeRef} onChange={subjectChange}>\n\n                {subjectOptionA}\n              </Form.Select>\n            </Form.Group>\n\n            <Form.Group classgrade=\"mb-3\" controlId=\"formPrice\">\n              <Form.Label>Subject name</Form.Label>\n              <Form.Control type=\"string\" placeholder=\"Subject Name\" ref={subjectNRef} />\n            </Form.Group>\n\n            {/* <Form.Group classgrade=\"mb-3\" controlId=\"formPrice\">\n              <Form.Label>Subject name</Form.Label>\n              <Form.Select type=\"string\" placeholder=\"Subject Name\" ref={subjectNRef} >\n                {subjectOptionB}\n              </Form.Select>\n            </Form.Group> */}\n\n            <Form.Group classgrade=\"mb-3\" controlId=\"formDiscount\">\n              <Form.Label>Grade</Form.Label>\n              <Form.Select aria-label=\"Default select example\" ref={gradeRef} >\n\n                {gradeOptions}\n              </Form.Select>\n            </Form.Group>\n\n            {/* <Button variant=\"outline-dark\" size=\"lg\" onClick={addItem}> */}\n            <div classgrade=\"d-grid gap-2\">\n              <Button variant=\"primary\" size=\"lg\" onClick={addItem}>\n                Add\n              </Button>\n            </div>\n          </Form>\n\n        </Col>\n        <Col>\n          <QuotationTable data={dataItems} setDataItems={setDataItems} />\n        </Col>\n      </Row>\n    </Container>\n\n\n  )\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}